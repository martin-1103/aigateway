
2025/12/26 22:37:19 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:19 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.558ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:19 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.522ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'aigateway' AND table_name = 'providers' AND table_type = 'BASE TABLE'

2025/12/26 22:37:19 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:19 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.511ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:19 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.855ms] [34;1m[rows:-][0m SELECT * FROM `providers` LIMIT 1

2025/12/26 22:37:19 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[26.331ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'aigateway' AND table_name = 'providers' ORDER BY ORDINAL_POSITION

2025/12/26 22:37:20 [32mD:/temp/aigateway/database/mysql.go:39 [33mSLOW SQL >= 200ms
[0m[31;1m[1182.932ms] [33m[rows:3][35m ALTER TABLE `providers` MODIFY COLUMN `supported_models` json[0m

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39 [33mSLOW SQL >= 200ms
[0m[31;1m[649.829ms] [33m[rows:3][35m ALTER TABLE `providers` MODIFY COLUMN `config` json[0m

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.561ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.906ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.682ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'aigateway' AND table_name = 'proxy_pool' AND table_type = 'BASE TABLE'

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.275ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[21.987ms] [34;1m[rows:-][0m SELECT * FROM `proxy_pool` LIMIT 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[17.734ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'aigateway' AND table_name = 'proxy_pool' ORDER BY ORDINAL_POSITION

2025/12/26 22:37:21 [32m
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:21 [32m
[0m[33m[3.757ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[1.031ms] [34;1m[rows:6][0m 
SELECT
	TABLE_NAME,
	COLUMN_NAME,
	INDEX_NAME,
	NON_UNIQUE 
FROM
	information_schema.STATISTICS 
WHERE
	TABLE_SCHEMA = 'aigateway' 
	AND TABLE_NAME = 'proxy_pool' 
ORDER BY
	INDEX_NAME,
	SEQ_IN_INDEX

2025/12/26 22:37:21 [32m
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:21 [32m
[0m[33m[2.616ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:21 [32m
[0m[33m[5.149ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'aigateway' AND table_name = 'proxy_pool' AND constraint_name = 'uni_proxy_pool_url'

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.587ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.554ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.529ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'proxy_pool' AND index_name = 'idx_active_health'

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.547ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.013ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'proxy_pool' AND index_name = 'idx_capacity'

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.450ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.543ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'proxy_pool' AND index_name = 'idx_priority'

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[3.177ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.527ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'aigateway' AND table_name = 'accounts' AND table_type = 'BASE TABLE'

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.352ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM `accounts` LIMIT 1

2025/12/26 22:37:21 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[6.521ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'aigateway' AND table_name = 'accounts' ORDER BY ORDINAL_POSITION

2025/12/26 22:37:22 [32mD:/temp/aigateway/database/mysql.go:39 [33mSLOW SQL >= 200ms
[0m[31;1m[1198.661ms] [33m[rows:1][35m ALTER TABLE `accounts` MODIFY COLUMN `auth_data` json NOT NULL[0m

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39 [33mSLOW SQL >= 200ms
[0m[31;1m[1448.634ms] [33m[rows:1][35m ALTER TABLE `accounts` MODIFY COLUMN `metadata` json[0m

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.526ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.268ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[6.051ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'aigateway' AND table_name = 'accounts' AND constraint_name = 'fk_accounts_provider'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.599ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[5.527ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'aigateway' AND table_name = 'accounts' AND constraint_name = 'fk_accounts_proxy'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[3.028ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.528ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'accounts' AND index_name = 'idx_provider_active'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.237ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'accounts' AND index_name = 'idx_accounts_label'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.011ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.867ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[1.040ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'accounts' AND index_name = 'idx_accounts_proxy_id'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.729ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.570ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'accounts' AND index_name = 'idx_accounts_expires_at'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.576ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.526ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'aigateway' AND table_name = 'proxy_stats' AND table_type = 'BASE TABLE'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.766ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[79.308ms] [34;1m[rows:-][0m SELECT * FROM `proxy_stats` LIMIT 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[18.026ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'aigateway' AND table_name = 'proxy_stats' ORDER BY ORDINAL_POSITION

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.528ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[6.017ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'aigateway' AND table_name = 'proxy_stats' AND constraint_name = 'fk_proxy_stats_proxy'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.419ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[5.054ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'aigateway' AND table_name = 'proxy_stats' AND constraint_name = 'fk_proxy_stats_provider'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.892ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.521ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'proxy_stats' AND index_name = 'idx_proxy_provider_date'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[1.516ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[1.003ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'aigateway' AND table_name = 'request_logs' AND table_type = 'BASE TABLE'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[3.313ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[20.647ms] [34;1m[rows:-][0m SELECT * FROM `request_logs` LIMIT 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[5.522ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'aigateway' AND table_name = 'request_logs' ORDER BY ORDINAL_POSITION

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.554ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.695ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'request_logs' AND index_name = 'idx_provider_account'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.043ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.286ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'request_logs' AND index_name = 'idx_created'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.029ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.335ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.539ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'aigateway' AND table_name = 'model_mappings' AND table_type = 'BASE TABLE'

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[2.554ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:23 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.524ms] [34;1m[rows:-][0m SELECT * FROM `model_mappings` LIMIT 1

2025/12/26 22:37:24 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[18.726ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'aigateway' AND table_name = 'model_mappings' ORDER BY ORDINAL_POSITION

2025/12/26 22:37:24 [32m
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:24 [32m
[0m[33m[2.066ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:24 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:4][0m 
SELECT
	TABLE_NAME,
	COLUMN_NAME,
	INDEX_NAME,
	NON_UNIQUE 
FROM
	information_schema.STATISTICS 
WHERE
	TABLE_SCHEMA = 'aigateway' 
	AND TABLE_NAME = 'model_mappings' 
ORDER BY
	INDEX_NAME,
	SEQ_IN_INDEX

2025/12/26 22:37:24 [32m
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:24 [32m
[0m[33m[2.901ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:24 [32m
[0m[33m[5.527ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'aigateway' AND table_name = 'model_mappings' AND constraint_name = 'uni_model_mappings_alias'

2025/12/26 22:37:24 [32m
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:24 [32m
[0m[33m[2.687ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:24 [32m
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'model_mappings' AND index_name = 'idx_model_mappings_alias'

2025/12/26 22:37:24 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/12/26 22:37:24 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[1.531ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'aigateway%' ORDER BY SCHEMA_NAME='aigateway' DESC,SCHEMA_NAME limit 1

2025/12/26 22:37:24 [32mD:/temp/aigateway/database/mysql.go:39
[0m[33m[1.010ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'aigateway' AND table_name = 'model_mappings' AND index_name = 'idx_model_mappings_alias'
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

2025/12/26 22:37:24 TokenRefreshService: Starting background token refresh job
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /health                   --> aigateway/handlers.(*ProxyHandler).HealthCheck-fm (3 handlers)
[GIN-debug] POST   /v1/messages              --> aigateway/handlers.(*ProxyHandler).HandleProxy-fm (3 handlers)
[GIN-debug] POST   /v1/chat/completions      --> aigateway/handlers.(*ProxyHandler).HandleProxy-fm (3 handlers)
[GIN-debug] GET    /v1/models                --> aigateway/handlers.(*ModelsHandler).GetModels-fm (3 handlers)
[GIN-debug] GET    /api/v1/providers         --> aigateway/handlers.(*ProxyHandler).GetProviders-fm (3 handlers)
[GIN-debug] GET    /api/v1/accounts          --> aigateway/handlers.(*AccountHandler).List-fm (3 handlers)
[GIN-debug] GET    /api/v1/accounts/:id      --> aigateway/handlers.(*AccountHandler).Get-fm (3 handlers)
[GIN-debug] POST   /api/v1/accounts          --> aigateway/handlers.(*AccountHandler).Create-fm (3 handlers)
[GIN-debug] PUT    /api/v1/accounts/:id      --> aigateway/handlers.(*AccountHandler).Update-fm (3 handlers)
[GIN-debug] DELETE /api/v1/accounts/:id      --> aigateway/handlers.(*AccountHandler).Delete-fm (3 handlers)
[GIN-debug] GET    /api/v1/proxies           --> aigateway/handlers.(*ProxyManagementHandler).List-fm (3 handlers)
[GIN-debug] GET    /api/v1/proxies/:id       --> aigateway/handlers.(*ProxyManagementHandler).Get-fm (3 handlers)
[GIN-debug] POST   /api/v1/proxies           --> aigateway/handlers.(*ProxyManagementHandler).Create-fm (3 handlers)
[GIN-debug] PUT    /api/v1/proxies/:id       --> aigateway/handlers.(*ProxyManagementHandler).Update-fm (3 handlers)
[GIN-debug] DELETE /api/v1/proxies/:id       --> aigateway/handlers.(*ProxyManagementHandler).Delete-fm (3 handlers)
[GIN-debug] GET    /api/v1/proxies/assignments --> aigateway/handlers.(*ProxyManagementHandler).GetAssignments-fm (3 handlers)
[GIN-debug] POST   /api/v1/proxies/recalculate --> aigateway/handlers.(*ProxyManagementHandler).RecalculateCounts-fm (3 handlers)
[GIN-debug] GET    /api/v1/stats/proxies/:id --> aigateway/handlers.(*StatsHandler).GetProxyStats-fm (3 handlers)
[GIN-debug] GET    /api/v1/stats/logs        --> aigateway/handlers.(*StatsHandler).GetRecentLogs-fm (3 handlers)
[GIN-debug] GET    /api/v1/model-mappings    --> aigateway/handlers.(*ModelMappingHandler).List-fm (3 handlers)
[GIN-debug] GET    /api/v1/model-mappings/:alias --> aigateway/handlers.(*ModelMappingHandler).Get-fm (3 handlers)
[GIN-debug] POST   /api/v1/model-mappings    --> aigateway/handlers.(*ModelMappingHandler).Create-fm (3 handlers)
[GIN-debug] PUT    /api/v1/model-mappings/:alias --> aigateway/handlers.(*ModelMappingHandler).Update-fm (3 handlers)
[GIN-debug] DELETE /api/v1/model-mappings/:alias --> aigateway/handlers.(*ModelMappingHandler).Delete-fm (3 handlers)
2025/12/26 22:37:24 Server starting on 0.0.0.0:8088
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
[GIN-debug] Listening and serving HTTP on 0.0.0.0:8088

2025/12/26 22:37:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.534ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 22:47:24.043'

2025/12/26 22:38:28 [32mD:/temp/aigateway/repositories/model.mapping.repository.go:34
[0m[33m[0.546ms] [34;1m[rows:1][0m SELECT count(*) FROM `model_mappings`

2025/12/26 22:38:28 [32mD:/temp/aigateway/repositories/model.mapping.repository.go:38
[0m[33m[0.604ms] [34;1m[rows:8][0m SELECT * FROM `model_mappings` ORDER BY priority DESC, alias ASC LIMIT 20
[GIN] 2025/12/26 - 22:38:28 | 200 |        1.15ms |             ::1 | GET      "/api/v1/model-mappings"

2025/12/26 22:38:40 [32mD:/temp/aigateway/repositories/model.mapping.repository.go:23
[0m[33m[0.672ms] [34;1m[rows:1][0m SELECT * FROM `model_mappings` WHERE alias = 'antigravity:claude-sonnet' AND enabled = true ORDER BY `model_mappings`.`id` LIMIT 1

2025/12/26 22:38:40 [32mD:/temp/aigateway/repositories/account.repository.go:32
[0m[33m[1.138ms] [34;1m[rows:1][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true ORDER BY id ASC

2025/12/26 22:38:40 [32mD:/temp/aigateway/repositories/proxy.repository.go:40
[0m[33m[119.750ms] [34;1m[rows:0][0m SELECT * FROM `proxy_pool` WHERE is_active = true AND health_status != 'down' ORDER BY priority DESC, current_accounts ASC

2025/12/26 22:38:40 [32mD:/temp/aigateway/repositories/account.repository.go:69 [33mSLOW SQL >= 200ms
[0m[31;1m[249.411ms] [33m[rows:1][35m UPDATE `accounts` SET `last_used_at`='2025-12-26 22:38:40.242',`usage_count`=usage_count + 1,`updated_at`='2025-12-26 22:38:40.243' WHERE id = 'da462dec-e224-11f0-b696-18c04deb080b'[0m

2025/12/26 22:38:40 [32mD:/temp/aigateway/repositories/account.repository.go:87
[0m[33m[196.416ms] [34;1m[rows:1][0m UPDATE `accounts` SET `proxy_id`=NULL,`proxy_url`='',`updated_at`='2025-12-26 22:38:40.362' WHERE id = 'da462dec-e224-11f0-b696-18c04deb080b'

2025/12/26 22:38:40 [32mD:/temp/aigateway/repositories/account.repository.go:96
[0m[33m[47.618ms] [34;1m[rows:1][0m UPDATE `accounts` SET `auth_data`='{"access_token":"ya29.a0Aa7pCA9snglw3Qks_4jfcejh41h2zpIL6TIsuRTjgJO85lRTdQcsv4VSRwy_tlHO04I2TaMRhEtkAyA1lP9dQU1BbizaNuhhURZRSCSw71XIJwQPGsoYdaXAB6jM_in89USl7kjraZ8_zUImwVREOJx-ux6oiO4bckPKyNzWkoKTuetoyOpe990GcwAq8TqgJ4AaVxO-TPgv1gaCgYKAeISARYSFQHGX2Mi7bakjtSnD8bAVQ_opbQCNA0213","email":"pile110385@gmail.com","expires_at":"2025-12-26T16:38:39Z","project_id":"powerful-snow-1389p","refresh_token":"1//0gMI0Q6ItzFUrCgYIARAAGBASNwF-L9IrksEHwJ7SqQUcq9d5rRknl6WnRFXlbxPk2hC_XeJmUtEBtNE2rheSFV0VmCrmUBWfLHs"}',`updated_at`='2025-12-26 22:38:40.773' WHERE id = 'da462dec-e224-11f0-b696-18c04deb080b'
[DEBUG] Translated payload: {"model": "claude-sonnet-4-5","userAgent":"antigravity","requestId":"agent-5a037232-5e19-4de2-8ccd-81eaf36e5be1","project":"powerful-snow-1389p","request":{"sessionId":"-1300799930297383100","toolConfig":{"functionCallingConfig":{"mode":"VALIDATED"}},"contents":[{"role":"user","parts":[{"text":"Say hello"}]}],"generationConfig":{"maxOutputTokens":100}}}
[DEBUG] Model: claude-sonnet-4-5, IsClaudeModel: true, Endpoint: https://daily-cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse
[GIN] 2025/12/26 - 22:38:42 | 200 |    2.0093041s |             ::1 | POST     "/v1/messages"

2025/12/26 22:38:42 [32mD:/temp/aigateway/repositories/stats.repository.go:19
[0m[33m[63.359ms] [34;1m[rows:1][0m INSERT INTO `request_logs` (`provider_id`,`account_id`,`proxy_id`,`model`,`status_code`,`latency_ms`,`error`,`created_at`) VALUES ('antigravity','da462dec-e224-11f0-b696-18c04deb080b',NULL,'claude-sonnet-4-5',200,1343,'','2025-12-26 22:38:42.244')

2025/12/26 22:42:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.824ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 22:52:24.043'

2025/12/26 22:47:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 22:57:24.043'

2025/12/26 22:52:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:02:24.043'

2025/12/26 22:57:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.927ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:07:24.044'

2025/12/26 23:02:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[1.064ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:12:24.043'

2025/12/26 23:07:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:17:24.043'

2025/12/26 23:12:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.993ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:22:24.043'

2025/12/26 23:17:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[1.001ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:27:24.044'

2025/12/26 23:22:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.961ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:32:24.043'

2025/12/26 23:27:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[1.001ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:37:24.043'

2025/12/26 23:32:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[1.427ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:42:24.043'

2025/12/26 23:37:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:47:24.043'

2025/12/26 23:42:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[13.000ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:52:24.043'

2025/12/26 23:47:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.999ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-26 23:57:24.043'

2025/12/26 23:52:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-27 00:02:24.044'

2025/12/26 23:57:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.838ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-27 00:07:24.044'

2025/12/27 00:02:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[1.392ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-27 00:12:24.043'

2025/12/27 00:07:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-27 00:17:24.044'

2025/12/27 00:12:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.892ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-27 00:22:24.043'

2025/12/27 00:17:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-27 00:27:24.043'

2025/12/27 00:22:24 [32mD:/temp/aigateway/repositories/account.repository.go:113
[0m[33m[1.003ms] [34;1m[rows:0][0m SELECT * FROM `accounts` WHERE provider_id = 'antigravity' AND is_active = true AND expires_at IS NOT NULL AND expires_at < '2025-12-27 00:32:24.043'
